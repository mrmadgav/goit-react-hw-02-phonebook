(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(e,t,n){e.exports={loginNav:"Navbar_loginNav__2DEYW",loginAvatar:"Navbar_loginAvatar__15yIi",logoutBtn:"Navbar_logoutBtn__1rbvm",loginTitle:"Navbar_loginTitle__2MBL8",NavBar:"Navbar_NavBar__8FveY",navLi:"Navbar_navLi__2EFUl",NavLinkActive:"Navbar_NavLinkActive__2HeSa",NavLink:"Navbar_NavLink__1t7It"}},109:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),s=n.n(c),o=n(22),i=n(6),u=n(54),l=n(15),b=n(16),j=n(18),d=n(17),p=(n(79),n(4)),m=n(3),h=Object(m.b)("contact/addRequest"),g=Object(m.b)("contact/addSuccess"),O=Object(m.b)("contact/addError"),v=Object(m.b)("contact/getRequest"),f=Object(m.b)("contact/getSuccess"),_=Object(m.b)("contact/getError"),x=Object(m.b)("contact/deleteRequest"),N=Object(m.b)("contact/deleteSuccess"),L=Object(m.b)("contact/deleteError"),C=Object(m.b)("phone/filter"),k={addRequest:h,addSuccess:g,addError:O,getRequest:v,getSuccess:f,getError:_,deleteRequest:x,deleteSuccess:N,deleteError:L,onFilter:C},y=n(13),S=n.n(y);S.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var R=n(25),E=n.n(R),A=function(e){return e.contacts.items},I=function(e){return e.contacts.items.name},F=function(e){return e.contacts.items.number},B=function(e){return e.contacts.filter},T=n.p+"static/media/deleteIcon.3ef1c6cb.svg",w=n.p+"static/media/bookHead.490e6ad2.png",q=n(1);var M=Object(i.b)((function(e){return{contacts:A(e),filter:B(e)}}),{deleteContact:function(e){return function(t){t(k.deleteRequest()),S.a.delete("/contacts/".concat(e)).then((function(){return t(k.deleteSuccess(e))})).catch((function(e){return t(k.deleteError(e))}))}}})((function(e){var t=e.contacts,n=e.filter,a=e.deleteContact,r=function(e){console.log("\u0410\u0439\u0434\u0438\u0448\u043d\u0438\u043a",e.target.id),a(e.target.id)};return Object(q.jsx)("div",{className:E.a.allcontactsWrapper,children:Object(q.jsxs)(q.Fragment,{children:[t.length>0&&Object(q.jsx)("img",{src:w,alt:"",className:E.a.bookHead}),Object(q.jsx)("ul",{className:E.a.contactList,children:t.map((function(e){return!!e.name.toLowerCase().includes(n.toLowerCase())&&Object(q.jsxs)("li",{className:E.a.contactElem,children:[Object(q.jsxs)("span",{className:E.a.contactItemName,children:[e.name,":"," "]}),Object(q.jsx)("a",{href:"tel: ".concat(e.number),className:E.a.contactItemNumber,children:e.number}),Object(q.jsx)("button",{className:E.a.deleteBtn,onClick:r,children:Object(q.jsx)("img",{src:T,alt:"",className:E.a.deleteImg,id:e.id})})]},e.id)}))})]})})})),W=n(38),U=n.n(W);var P=Object(i.b)((function(e){return{filter:B(e)}}),{onFilter:C})((function(e){var t=e.onFilter;return Object(q.jsxs)("label",{className:U.a.label,children:["Find Contacts by name",Object(q.jsx)("input",{type:"text",placeholder:"\u043d\u0430\u0439\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442",onChange:function(e){t(e.target.value)},className:U.a.filterInput})]})})),H=n(33),D=n.n(H),J=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.number,a=e.handleSubmit,r=e.handleChange;return Object(q.jsxs)("form",{onSubmit:a,children:[Object(q.jsxs)("label",{className:D.a.contactFormTitle,children:["Name",Object(q.jsx)("input",{name:"name",type:"text",placeholder:"Ilon Mask",value:t,onChange:r,className:D.a.contactInput,required:!0})]}),Object(q.jsxs)("label",{className:D.a.contactFormTitle,children:["Phone Number",Object(q.jsx)("input",{name:"number",type:"tel",placeholder:"777-888-99-00",value:n,onChange:r,className:D.a.contactInput})]}),Object(q.jsx)("button",{type:"submit",className:D.a.contactBtn,children:"add contact"})]})}}]),n}(a.Component),G=n(39),z=n.n(G),Y=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:""},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.contacts.some((function(t){return t.name===e.state.name}))?alert("".concat(e.state.name," \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435")):e.props.addContact({name:e.state.name,number:e.state.number})},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.getContact()}},{key:"render",value:function(){return Object(q.jsxs)("div",{className:z.a.PhoneWrapper,children:[Object(q.jsx)("h1",{className:z.a.PhoneTitle,children:"Phone Book"}),Object(q.jsx)(J,{name:this.state.name,number:this.state.number,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),Object(q.jsx)("h2",{children:"Contacts"}),Object(q.jsx)(P,{}),Object(q.jsx)(M,{})]})}}]),n}(a.Component),Z=Object(i.b)((function(e){return{name:I(e),number:F(e),contacts:A(e)}}),{addContact:function(e){return function(t){t(k.addRequest()),S.a.post("/contacts",e).then((function(e){var n=e.data;return t(k.addSuccess(n))})).catch((function(e){return t(k.addError(e.message))}))}},getContact:function(){return function(e){e(k.getRequest()),S.a.get("/contacts").then((function(t){var n=t.data;return e(k.getSuccess(n))})).catch((function(t){return e(k.getError(t))}))}}})(Y),X=n(5),Q=n(26),V=n.n(Q),K=n(34),$={registerRequest:Object(m.b)("auth/registerRequest"),registerSuccess:Object(m.b)("auth/registerSuccess"),registerError:Object(m.b)("auth/registerError"),LoginRequest:Object(m.b)("auth/LoginRequest"),LoginSuccess:Object(m.b)("auth/LoginSuccess"),LoginError:Object(m.b)("auth/LoginError"),LogoutRequest:Object(m.b)("auth/LogoutRequest"),LogoutSuccess:Object(m.b)("auth/LogoutSuccess"),LogoutError:Object(m.b)("auth/LogoutError"),getCurrentUserRequest:Object(m.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(m.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(m.b)("auth/getCurrentUserError")};S.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var ee,te,ne,ae,re=function(e){S.a.defaults.headers.common.Authorization="Bearer ".concat(e)},ce=function(){S.a.defaults.headers.common.Authorization=""},se=n(27),oe=n.n(se),ie=n.p+"static/media/animation.46a38fcd.gif",ue=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(p.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault(),e.props.onLogin(e.state),e.setState({email:"",password:""})},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(q.jsxs)("div",{className:oe.a.loginWrapper,children:[Object(q.jsx)("div",{children:Object(q.jsx)("img",{src:ie,alt:"",className:oe.a.mainAnimation})}),Object(q.jsx)("div",{className:oe.a.registerWrapper,children:Object(q.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(q.jsxs)("label",{children:[Object(q.jsx)("span",{className:oe.a.registerFormTitle,children:"Email"}),Object(q.jsx)("input",{name:"email",type:"email",placeholder:"",onChange:this.handleChange,className:oe.a.regInput,required:!0})]}),Object(q.jsxs)("label",{children:[Object(q.jsx)("span",{className:oe.a.registerFormTitle,children:"Password"}),Object(q.jsx)("input",{name:"password",type:"text",placeholder:"",onChange:this.handleChange,className:oe.a.regInput,required:!0})]}),Object(q.jsx)("button",{type:"submit",className:oe.a.regBtn,children:"Log In"})]})})]})}}]),n}(a.Component),le={onLogin:function(e){return function(){var t=Object(K.a)(V.a.mark((function t(n){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n($.LoginRequest()),t.prev=1,t.next=4,S.a.post("/users/login",e);case 4:a=t.sent,re(a.data.token),n($.LoginSuccess(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n($.LoginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},be=Object(i.b)(null,le)(ue),je=n(23),de=n.n(je),pe=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(p.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault(),e.props.onRegister(e.state),e.setState({name:"",email:"",password:""})},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(q.jsxs)("div",{className:de.a.registerWrapper,children:[Object(q.jsx)("h2",{className:de.a.regMainTitle,children:"Sign Up"}),Object(q.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(q.jsx)("label",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{className:de.a.registerFormTitle,children:"Username"}),Object(q.jsx)("input",{name:"name",type:"text",placeholder:"Jesus",onChange:this.handleChange,className:de.a.regInput,required:!0})]})}),Object(q.jsx)("label",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{className:de.a.registerFormTitle,children:"Email "}),Object(q.jsx)("input",{name:"email",type:"text",placeholder:"IlonMask@mail.ru",onChange:this.handleChange,className:de.a.regInput,required:!0})]})}),Object(q.jsx)("label",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{className:de.a.registerFormTitle,children:"Password"}),Object(q.jsx)("input",{name:"password",type:"text",placeholder:"123",onChange:this.handleChange,className:de.a.regInput})]})}),Object(q.jsx)("button",{type:"submit",className:de.a.regBtn,children:"Create an account"})]})]})}}]),n}(a.Component),me={onRegister:function(e){return function(){var t=Object(K.a)(V.a.mark((function t(n){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n($.registerRequest()),t.prev=1,t.next=4,S.a.post("/users/signup",e);case 4:a=t.sent,re(a.data.token),n($.registerSuccess(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n($.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},he=Object(i.b)(null,me)(pe),ge=function(e){return!!e.authReducer.token},Oe=n.p+"static/media/ava-octocat.3ad91461.png",ve=n(10),fe=n.n(ve),_e=n(56),xe=n.n(_e),Ne={onLogout:function(){return function(){var e=Object(K.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t($.LogoutRequest()),e.prev=1,e.next=4,S.a.post("/users/logout");case 4:ce(),t($.LogoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t($.LogoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}},Le=Object(i.b)((function(e){return{isAuthenticated:ge(e),name:e.authReducer.user.name,avatar:Oe}}),Ne)((function(e){var t=e.isAuthenticated,n=e.name,a=e.avatar,r=e.onLogout;return Object(q.jsx)("div",{className:fe.a.navWrapper,children:t?Object(q.jsxs)("ul",{className:fe.a.loginNav,children:[Object(q.jsx)("li",{children:Object(q.jsx)("span",{className:fe.a.loginTitle,children:"Hello, ".concat(n)})}),Object(q.jsx)("li",{children:Object(q.jsx)("img",{src:a,alt:"",className:fe.a.loginAvatar})}),Object(q.jsx)("button",{type:"button",className:fe.a.logoutBtn,onClick:r,children:Object(q.jsx)(xe.a,{color:"primary",className:fe.a.logoutBtn})})]}):Object(q.jsxs)("ul",{className:fe.a.NavBar,children:[Object(q.jsx)("li",{className:fe.a.navLi,children:Object(q.jsx)(o.b,{exact:!0,to:"/register",className:fe.a.NavLink,activeClassName:fe.a.NavLinkActive,children:"Register"})}),Object(q.jsx)("li",{className:fe.a.navLink,children:Object(q.jsx)(o.b,{exact:!0,to:"/login",className:fe.a.NavLink,activeClassName:fe.a.NavLinkActive,children:"Login"})})]})})})),Ce=n(14),ke=n(67),ye=Object(i.b)((function(e){return{isAuthenticated:ge(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=e.redirectTo,r=Object(ke.a)(e,["component","isAuthenticated","redirectTo"]);return Object(q.jsx)(X.b,Object(Ce.a)(Object(Ce.a)({},r),{},{render:function(e){return n?Object(q.jsx)(t,Object(Ce.a)({},e)):Object(q.jsx)(X.a,{to:a})}}))})),Se=n(64),Re=n.n(Se),Ee=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(q.jsx)("div",{className:Re.a.container,children:Object(q.jsx)(q.Fragment,{children:this.props.children})})}}]),n}(a.Component),Ae=n(29),Ie=n.n(Ae),Fe=function(){return Object(q.jsx)("div",{children:Object(q.jsxs)("ul",{className:Ie.a.MainBar,children:[Object(q.jsx)("li",{className:Ie.a.navLi,children:Object(q.jsx)(o.b,{exact:!0,to:"/",className:Ie.a.NavLink,activeClassName:Ie.a.NavLinkActive,children:"Main"})}),Object(q.jsx)("li",{className:Ie.a.navLink,children:Object(q.jsx)(o.b,{exact:!0,to:"/contacts",className:Ie.a.NavLink,activeClassName:Ie.a.NavLinkActive,children:"Contacts"})})]})})},Be=n(65),Te=n.n(Be),we=n.p+"static/media/phoneBookTitleImg.70dbc878.jpg",qe=function(){return Object(q.jsx)("div",{children:Object(q.jsx)("img",{src:we,alt:""})})},Me=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(q.jsxs)(Ee,{children:[Object(q.jsx)(X.b,{path:"/",component:Le}),Object(q.jsxs)("div",{className:Te.a.mainWrapper,children:[Object(q.jsx)(X.b,{path:"/",component:Fe}),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(X.d,{children:[Object(q.jsx)(X.b,{path:"/",exact:!0,component:qe}),!this.props.isAuthenticated&&Object(q.jsx)(X.b,{path:"/login",exact:!0,component:be}),!this.props.isAuthenticated&&Object(q.jsx)(X.b,{path:"/register",exact:!0,component:he}),Object(q.jsx)(ye,{path:"/contacts",component:Z,redirectTo:"/login"})]})})]})]})}}]),n}(a.Component),We={onGetCurrentUser:function(){return function(){var e=Object(K.a)(V.a.mark((function e(t,n){var a,r,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),r=a.authReducer.token){e.next=3;break}return e.abrupt("return");case 3:return re(r),t($.getCurrentUserRequest()),e.prev=5,e.next=8,S.a.get("/users/current");case 8:c=e.sent,t($.getCurrentUserSuccess(c.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t($.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},Ue=Object(i.b)((function(e){return{isAuthenticated:ge(e)}}),We)(Me),Pe=n(32),He=Object(m.c)({items:[],filter:""},(ee={},Object(p.a)(ee,k.getSuccess,(function(e,t){var n=t.payload;return Object(Ce.a)(Object(Ce.a)({},e),{},{items:Object(Pe.a)(n)})})),Object(p.a)(ee,k.addSuccess,(function(e,t){var n=t.payload;return Object(Ce.a)(Object(Ce.a)({},e),{},{items:[].concat(Object(Pe.a)(e.items),[{name:n.name,number:n.number,id:n.id}])})})),Object(p.a)(ee,k.deleteSuccess,(function(e,t){var n=t.payload;return Object(Ce.a)(Object(Ce.a)({},e),{},{items:Object(Pe.a)(e.items.filter((function(e){return e.id!==n})))})})),Object(p.a)(ee,k.onFilter,(function(e,t){var n=t.payload;return Object(Ce.a)(Object(Ce.a)({},e),{},{filter:n})})),ee)),De=n(7),Je={name:null,email:null},Ge=Object(m.c)(Je,(te={},Object(p.a)(te,$.registerSuccess,(function(e,t){return t.payload.user})),Object(p.a)(te,$.LoginSuccess,(function(e,t){return t.payload.user})),Object(p.a)(te,$.LogoutSuccess,(function(){return Je})),Object(p.a)(te,$.getCurrentUserSuccess,(function(e,t){return t.payload})),te)),ze=Object(m.c)(null,(ne={},Object(p.a)(ne,$.registerSuccess,(function(e,t){return t.payload.token})),Object(p.a)(ne,$.LoginSuccess,(function(e,t){return t.payload.token})),Object(p.a)(ne,$.LogoutSuccess,(function(){return null})),ne)),Ye=Object(m.c)(null,(ae={},Object(p.a)(ae,$.registerError,(function(e,t){return t.payload})),Object(p.a)(ae,$.LoginError,(function(e,t){return t.payload})),Object(p.a)(ae,$.LogoutError,(function(e,t){return t.payload})),Object(p.a)(ae,$.getCurrentUserError,(function(e,t){return t.payload})),ae)),Ze=Object(De.c)({user:Ge,token:ze,error:Ye}),Xe=n(28),Qe=n(66),Ve=n.n(Qe),Ke=[].concat(Object(Pe.a)(Object(m.d)({serializableCheck:{ignoredActions:[Xe.a,Xe.f,Xe.b,Xe.c,Xe.d,Xe.e]}})),[function(e){return function(e){return function(t){return console.group(t.type),console.info("dispatching",t),console.groupEnd(t.type),e(t)}}}]),$e={key:"auth",storage:Ve.a,whitelist:["token"]},et=Object(m.a)({reducer:{contacts:He,authReducer:Object(Xe.g)($e,Ze)},middleware:Ke}),tt={store:et,persistor:Object(Xe.h)(et)};n(109);s.a.render(Object(q.jsx)(r.a.StrictMode,{children:Object(q.jsx)(i.a,{store:tt.store,children:Object(q.jsx)(u.a,{loading:null,persistor:tt.persistor,children:Object(q.jsx)(o.a,{children:Object(q.jsx)(Ue,{})})})})}),document.getElementById("root"))},23:function(e,t,n){e.exports={registerWrapper:"Register_registerWrapper__1E35a",registerFormTitle:"Register_registerFormTitle__HL5aa",regBtn:"Register_regBtn__2T53n",regMainTitle:"Register_regMainTitle__7xJE9",regInput:"Register_regInput__DGPPi"}},25:function(e,t,n){e.exports={deleteBtn:"Contacts_deleteBtn__26V_A",contactList:"Contacts_contactList__2Oo8h",contactElem:"Contacts_contactElem__3A_-3",deleteImg:"Contacts_deleteImg__PWLZ0",contactItemName:"Contacts_contactItemName__17NpQ",contactItemNumber:"Contacts_contactItemNumber__F3P6z",bookHead:"Contacts_bookHead__1hc01",allcontactsWrapper:"Contacts_allcontactsWrapper__1_-dp"}},27:function(e,t,n){e.exports={loginWrapper:"Login_loginWrapper__38eiR",registerWrapper:"Login_registerWrapper__3A1HG",registerFormTitle:"Login_registerFormTitle__Xxwvq",regBtn:"Login_regBtn__3oL3f",regMainTitle:"Login_regMainTitle__3SGTb",regInput:"Login_regInput__2HuYY",mainAnimation:"Login_mainAnimation__1_iPo"}},29:function(e,t,n){e.exports={loginNav:"MainNav_loginNav__JaimC",loginAvatar:"MainNav_loginAvatar__1lg-F",logoutBtn:"MainNav_logoutBtn__1yQpI",loginTitle:"MainNav_loginTitle__1_E8u",NavBar:"MainNav_NavBar__3xbwJ",navLi:"MainNav_navLi__1XlFF",NavLinkActive:"MainNav_NavLinkActive__1Rcoh",NavLink:"MainNav_NavLink__3edkl",MainBar:"MainNav_MainBar__Cck9W"}},33:function(e,t,n){e.exports={formLabel:"ContactForm_formLabel__IFDx6",contactInput:"ContactForm_contactInput__3p629",contactAddBtn:"ContactForm_contactAddBtn__3RkSO",contactFormTitle:"ContactForm_contactFormTitle__5JvJl",contactBtn:"ContactForm_contactBtn__2ZI4R"}},38:function(e,t,n){e.exports={label:"Filter_label__6pZgT",filterInput:"Filter_filterInput__ljOXD"}},39:function(e,t,n){e.exports={PhoneWrapper:"Phone_PhoneWrapper__36EK3",PhoneTitle:"Phone_PhoneTitle__2uuHf"}},64:function(e,t,n){e.exports={container:"Section_container__35b-j"}},65:function(e,t,n){e.exports={mainWrapper:"App_mainWrapper__3VCZH"}}},[[111,1,2]]]);
//# sourceMappingURL=main.7dec5821.chunk.js.map