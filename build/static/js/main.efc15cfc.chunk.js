(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(e,t,a){e.exports={loginNav:"Navbar_loginNav__2DEYW",loginAvatar:"Navbar_loginAvatar__15yIi",logoutBtn:"Navbar_logoutBtn__1rbvm",loginTitle:"Navbar_loginTitle__2MBL8",NavBar:"Navbar_NavBar__8FveY",navLi:"Navbar_navLi__2EFUl",NavLinkActive:"Navbar_NavLinkActive__2HeSa",NavLink:"Navbar_NavLink__1t7It"}},112:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(28),s=a.n(r),o=a(18),i=a(4),u=a(57),l=a(33),b=a(34),j=a(38),d=a(37),p=(a(82),a(3)),m=Object(p.b)("contact/addRequest"),g=Object(p.b)("contact/addSuccess"),O=Object(p.b)("contact/addError"),h=Object(p.b)("contact/getRequest"),v=Object(p.b)("contact/getSuccess"),_=Object(p.b)("contact/getError"),f=Object(p.b)("contact/deleteRequest"),x=Object(p.b)("contact/deleteSuccess"),N=Object(p.b)("contact/deleteError"),L=Object(p.b)("phone/filter"),k={addRequest:m,addSuccess:g,addError:O,getRequest:h,getSuccess:v,getError:_,deleteRequest:f,deleteSuccess:x,deleteError:N,onFilter:L},C=a(13),S=a.n(C);S.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var y=a(22),E=a.n(y),R=function(e){return e.contacts.items},I=function(e){return e.contacts.filter},B=a.p+"static/media/deleteIcon.3ef1c6cb.svg",F=a.p+"static/media/bookHead.490e6ad2.png",T=a(1);var A=function(){var e=Object(i.d)(I),t=Object(i.d)(R),a=Object(i.c)(),n=function(e){var t;console.log("\u0410\u0439\u0434\u0438\u0448\u043d\u0438\u043a",e.target.id),a((t=e.target.id,function(e){e(k.deleteRequest()),S.a.delete("/contacts/".concat(t)).then((function(){return e(k.deleteSuccess(t))})).catch((function(t){return e(k.deleteError(t))}))}))};return Object(T.jsx)("div",{className:E.a.allcontactsWrapper,children:Object(T.jsxs)(T.Fragment,{children:[t.length>0&&Object(T.jsx)("img",{src:F,alt:"",className:E.a.bookHead}),Object(T.jsx)("ul",{className:E.a.contactList,children:t.map((function(t){return!!t.name.toLowerCase().includes(e.toLowerCase())&&Object(T.jsxs)("li",{className:E.a.contactElem,children:[Object(T.jsxs)("span",{className:E.a.contactItemName,children:[t.name,":"," "]}),Object(T.jsx)("a",{href:"tel: ".concat(t.number),className:E.a.contactItemNumber,children:t.number}),Object(T.jsx)("button",{className:E.a.deleteBtn,onClick:n,children:Object(T.jsx)("img",{src:B,alt:"",className:E.a.deleteImg,id:t.id})})]},t.id)}))})]})})},q=a(41),w=a.n(q);var M=function(){var e=Object(i.c)();return Object(T.jsxs)("label",{className:w.a.label,children:["Find Contacts by name",Object(T.jsx)("input",{type:"text",placeholder:"\u043d\u0430\u0439\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442",onChange:function(t){e(L(t.target.value))},className:w.a.filterInput})]})},W=a(19),U=a(30),P=a.n(U),H=function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(W.a)(r,2),o=s[0],u=s[1],l=Object(i.c)(),b=Object(i.d)(R);return Object(T.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),b.some((function(e){return e.name===a}))?alert("".concat(a," \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435")):l((t={name:a,number:o},function(e){e(k.addRequest()),S.a.post("/contacts",t).then((function(t){var a=t.data;return e(k.addSuccess(a))})).catch((function(t){return e(k.addError(t.message))}))}))},children:[Object(T.jsxs)("label",{className:P.a.contactFormTitle,children:["Name",Object(T.jsx)("input",{name:"name",type:"text",placeholder:"Ilon Mask",value:a,onChange:function(e){c(e.target.value)},className:P.a.contactInput,required:!0})]}),Object(T.jsxs)("label",{className:P.a.contactFormTitle,children:["Phone Number",Object(T.jsx)("input",{name:"number",type:"tel",placeholder:"777-888-99-00",value:o,onChange:function(e){u(e.target.value)},className:P.a.contactInput})]}),Object(T.jsx)("button",{type:"submit",className:P.a.contactBtn,children:"add contact"})]})},D=a(42),J=a.n(D),G=function(){var e=Object(i.c)();return Object(n.useEffect)((function(){e((function(e){e(k.getRequest()),S.a.get("/contacts").then((function(t){var a=t.data;return e(k.getSuccess(a))})).catch((function(t){return e(k.getError(t))}))}))}),[e]),Object(T.jsxs)("div",{className:J.a.PhoneWrapper,children:[Object(T.jsx)("h1",{className:J.a.PhoneTitle,children:"Phone Book"}),Object(T.jsx)(H,{}),Object(T.jsx)("h2",{children:"Contacts"}),Object(T.jsx)(M,{}),Object(T.jsx)(A,{})]})},z=a(5),Y=a(23),Z=a.n(Y),X=a(32),Q={registerRequest:Object(p.b)("auth/registerRequest"),registerSuccess:Object(p.b)("auth/registerSuccess"),registerError:Object(p.b)("auth/registerError"),LoginRequest:Object(p.b)("auth/LoginRequest"),LoginSuccess:Object(p.b)("auth/LoginSuccess"),LoginError:Object(p.b)("auth/LoginError"),LogoutRequest:Object(p.b)("auth/LogoutRequest"),LogoutSuccess:Object(p.b)("auth/LogoutSuccess"),LogoutError:Object(p.b)("auth/LogoutError"),getCurrentUserRequest:Object(p.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(p.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(p.b)("auth/getCurrentUserError")};S.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var V,K,$,ee,te=function(e){S.a.defaults.headers.common.Authorization="Bearer ".concat(e)},ae=function(){S.a.defaults.headers.common.Authorization=""},ne=a(24),ce=a.n(ne),re=a.p+"static/media/animation.46a38fcd.gif",se=function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(W.a)(r,2),o=s[0],u=s[1],l=Object(i.c)();return Object(T.jsxs)("div",{className:ce.a.loginWrapper,children:[Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:re,alt:"",className:ce.a.mainAnimation})}),Object(T.jsx)("div",{className:ce.a.registerWrapper,children:Object(T.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),l((t={email:a,password:o},function(){var e=Object(X.a)(Z.a.mark((function e(a){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Q.LoginRequest()),e.prev=1,e.next=4,S.a.post("/users/login",t);case 4:n=e.sent,te(n.data.token),a(Q.LoginSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a(Q.LoginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(T.jsxs)("label",{children:[Object(T.jsx)("span",{className:ce.a.registerFormTitle,children:"Email"}),Object(T.jsx)("input",{name:"email",type:"email",placeholder:"",onChange:function(e){c(e.target.value)},className:ce.a.regInput,required:!0})]}),Object(T.jsxs)("label",{children:[Object(T.jsx)("span",{className:ce.a.registerFormTitle,children:"Password"}),Object(T.jsx)("input",{name:"password",type:"text",placeholder:"",onChange:function(e){u(e.target.value)},className:ce.a.regInput,required:!0})]}),Object(T.jsx)("button",{type:"submit",className:ce.a.regBtn,children:"Log In"})]})})]})},oe=a(20),ie=a.n(oe),ue=function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(W.a)(r,2),o=s[0],u=s[1],l=Object(n.useState)(""),b=Object(W.a)(l,2),j=b[0],d=b[1],p=Object(i.c)();return Object(T.jsxs)("div",{className:ie.a.registerWrapper,children:[Object(T.jsx)("h2",{className:ie.a.regMainTitle,children:"Sign Up"}),Object(T.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),p((t={name:a,email:o,password:j},function(){var e=Object(X.a)(Z.a.mark((function e(a){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Q.registerRequest()),e.prev=1,e.next=4,S.a.post("/users/signup",t);case 4:n=e.sent,te(n.data.token),a(Q.registerSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a(Q.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(T.jsx)("label",{children:Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:ie.a.registerFormTitle,children:"Username"}),Object(T.jsx)("input",{name:"name",type:"text",placeholder:"Jesus",value:a,onChange:function(e){c(e.target.value)},className:ie.a.regInput,required:!0})]})}),Object(T.jsx)("label",{children:Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:ie.a.registerFormTitle,children:"Email "}),Object(T.jsx)("input",{name:"email",type:"text",placeholder:"IlonMask@mail.ru",value:o,onChange:function(e){u(e.target.value)},className:ie.a.regInput,required:!0})]})}),Object(T.jsx)("label",{children:Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:ie.a.registerFormTitle,children:"Password"}),Object(T.jsx)("input",{name:"password",type:"text",placeholder:"123",value:j,onChange:function(e){d(e.target.value)},className:ie.a.regInput})]})}),Object(T.jsx)("button",{type:"submit",className:ie.a.regBtn,children:"Create an account"})]})]})},le=function(e){return!!e.authReducer.token},be=function(e){return e.authReducer.user.name},je=a.p+"static/media/ava-octocat.3ad91461.png",de=a(10),pe=a.n(de),me=a(59),ge=a.n(me),Oe=function(){var e=Object(i.c)(),t=Object(i.d)(le),a=Object(i.d)(be);return Object(T.jsx)("div",{className:pe.a.navWrapper,children:t?Object(T.jsxs)("ul",{className:pe.a.loginNav,children:[Object(T.jsx)("li",{children:Object(T.jsx)("span",{className:pe.a.loginTitle,children:"Hello, ".concat(a)})}),Object(T.jsx)("li",{children:Object(T.jsx)("img",{src:je,alt:"",className:pe.a.loginAvatar})}),Object(T.jsx)("button",{type:"button",className:pe.a.logoutBtn,onClick:function(){return e(function(){var e=Object(X.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Q.LogoutRequest()),e.prev=1,e.next=4,S.a.post("/users/logout");case 4:ae(),t(Q.LogoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Q.LogoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},children:Object(T.jsx)(ge.a,{color:"primary",className:pe.a.logoutBtn})})]}):Object(T.jsxs)("ul",{className:pe.a.NavBar,children:[Object(T.jsx)("li",{className:pe.a.navLi,children:Object(T.jsx)(o.b,{exact:!0,to:"/register",className:pe.a.NavLink,activeClassName:pe.a.NavLinkActive,children:"Register"})}),Object(T.jsx)("li",{className:pe.a.navLink,children:Object(T.jsx)(o.b,{exact:!0,to:"/login",className:pe.a.NavLink,activeClassName:pe.a.NavLinkActive,children:"Login"})})]})})},he=a(14),ve=a(70),_e=Object(i.b)((function(e){return{isAuthenticated:le(e)}}))((function(e){var t=e.component,a=e.isAuthenticated,n=e.redirectTo,c=Object(ve.a)(e,["component","isAuthenticated","redirectTo"]);return Object(T.jsx)(z.b,Object(he.a)(Object(he.a)({},c),{},{render:function(e){return a?Object(T.jsx)(t,Object(he.a)({},e)):Object(T.jsx)(z.a,{to:n})}}))})),fe=a(67),xe=a.n(fe),Ne=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(T.jsx)("div",{className:xe.a.container,children:Object(T.jsx)(T.Fragment,{children:this.props.children})})}}]),a}(n.Component),Le=a(26),ke=a.n(Le),Ce=function(){return Object(T.jsx)("div",{children:Object(T.jsxs)("ul",{className:ke.a.MainBar,children:[Object(T.jsx)("li",{className:ke.a.navLi,children:Object(T.jsx)(o.b,{exact:!0,to:"/",className:ke.a.NavLink,activeClassName:ke.a.NavLinkActive,children:"Main"})}),Object(T.jsx)("li",{className:ke.a.navLink,children:Object(T.jsx)(o.b,{exact:!0,to:"/contacts",className:ke.a.NavLink,activeClassName:ke.a.NavLinkActive,children:"Contacts"})})]})})},Se=a(68),ye=a.n(Se),Ee=a.p+"static/media/phoneBookTitleImg.70dbc878.jpg",Re=function(){return Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:Ee,alt:""})})},Ie=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(T.jsxs)(Ne,{children:[Object(T.jsx)(z.b,{path:"/",component:Oe}),Object(T.jsxs)("div",{className:ye.a.mainWrapper,children:[Object(T.jsx)(z.b,{path:"/",component:Ce}),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(z.d,{children:[Object(T.jsx)(z.b,{path:"/",exact:!0,component:Re}),!this.props.isAuthenticated&&Object(T.jsx)(z.b,{path:"/login",exact:!0,component:se}),!this.props.isAuthenticated&&Object(T.jsx)(z.b,{path:"/register",exact:!0,component:ue}),Object(T.jsx)(_e,{path:"/contacts",component:G,redirectTo:"/login"})]})})]})]})}}]),a}(n.Component),Be={onGetCurrentUser:function(){return function(){var e=Object(X.a)(Z.a.mark((function e(t,a){var n,c,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),c=n.authReducer.token){e.next=3;break}return e.abrupt("return");case 3:return te(c),t(Q.getCurrentUserRequest()),e.prev=5,e.next=8,S.a.get("/users/current");case 8:r=e.sent,t(Q.getCurrentUserSuccess(r.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(Q.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}()}},Fe=Object(i.b)((function(e){return{isAuthenticated:le(e)}}),Be)(Ie),Te=a(29),Ae=a(6),qe=Object(p.c)({items:[],filter:""},(V={},Object(Ae.a)(V,k.getSuccess,(function(e,t){var a=t.payload;return Object(he.a)(Object(he.a)({},e),{},{items:Object(Te.a)(a)})})),Object(Ae.a)(V,k.addSuccess,(function(e,t){var a=t.payload;return Object(he.a)(Object(he.a)({},e),{},{items:[].concat(Object(Te.a)(e.items),[{name:a.name,number:a.number,id:a.id}])})})),Object(Ae.a)(V,k.deleteSuccess,(function(e,t){var a=t.payload;return Object(he.a)(Object(he.a)({},e),{},{items:Object(Te.a)(e.items.filter((function(e){return e.id!==a})))})})),Object(Ae.a)(V,k.onFilter,(function(e,t){var a=t.payload;return Object(he.a)(Object(he.a)({},e),{},{filter:a})})),V)),we=a(7),Me={name:null,email:null},We=Object(p.c)(Me,(K={},Object(Ae.a)(K,Q.registerSuccess,(function(e,t){return t.payload.user})),Object(Ae.a)(K,Q.LoginSuccess,(function(e,t){return t.payload.user})),Object(Ae.a)(K,Q.LogoutSuccess,(function(){return Me})),Object(Ae.a)(K,Q.getCurrentUserSuccess,(function(e,t){return t.payload})),K)),Ue=Object(p.c)(null,($={},Object(Ae.a)($,Q.registerSuccess,(function(e,t){return t.payload.token})),Object(Ae.a)($,Q.LoginSuccess,(function(e,t){return t.payload.token})),Object(Ae.a)($,Q.LogoutSuccess,(function(){return null})),$)),Pe=Object(p.c)(null,(ee={},Object(Ae.a)(ee,Q.registerError,(function(e,t){return t.payload})),Object(Ae.a)(ee,Q.LoginError,(function(e,t){return t.payload})),Object(Ae.a)(ee,Q.LogoutError,(function(e,t){return t.payload})),Object(Ae.a)(ee,Q.getCurrentUserError,(function(e,t){return t.payload})),ee)),He=Object(we.c)({user:We,token:Ue,error:Pe}),De=a(25),Je=a(69),Ge=a.n(Je),ze=[].concat(Object(Te.a)(Object(p.d)({serializableCheck:{ignoredActions:[De.a,De.f,De.b,De.c,De.d,De.e]}})),[function(e){return function(e){return function(t){return console.group(t.type),console.info("dispatching",t),console.groupEnd(t.type),e(t)}}}]),Ye={key:"auth",storage:Ge.a,whitelist:["token"]},Ze=Object(p.a)({reducer:{contacts:qe,authReducer:Object(De.g)(Ye,He)},middleware:ze}),Xe={store:Ze,persistor:Object(De.h)(Ze)};a(112);s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(i.a,{store:Xe.store,children:Object(T.jsx)(u.a,{loading:null,persistor:Xe.persistor,children:Object(T.jsx)(o.a,{children:Object(T.jsx)(Fe,{})})})})}),document.getElementById("root"))},20:function(e,t,a){e.exports={registerWrapper:"Register_registerWrapper__1E35a",registerFormTitle:"Register_registerFormTitle__HL5aa",regBtn:"Register_regBtn__2T53n",regMainTitle:"Register_regMainTitle__7xJE9",regInput:"Register_regInput__DGPPi"}},22:function(e,t,a){e.exports={deleteBtn:"Contacts_deleteBtn__26V_A",contactList:"Contacts_contactList__2Oo8h",contactElem:"Contacts_contactElem__3A_-3",deleteImg:"Contacts_deleteImg__PWLZ0",contactItemName:"Contacts_contactItemName__17NpQ",contactItemNumber:"Contacts_contactItemNumber__F3P6z",bookHead:"Contacts_bookHead__1hc01",allcontactsWrapper:"Contacts_allcontactsWrapper__1_-dp"}},24:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__38eiR",registerWrapper:"Login_registerWrapper__3A1HG",registerFormTitle:"Login_registerFormTitle__Xxwvq",regBtn:"Login_regBtn__3oL3f",regMainTitle:"Login_regMainTitle__3SGTb",regInput:"Login_regInput__2HuYY",mainAnimation:"Login_mainAnimation__1_iPo"}},26:function(e,t,a){e.exports={loginNav:"MainNav_loginNav__JaimC",loginAvatar:"MainNav_loginAvatar__1lg-F",logoutBtn:"MainNav_logoutBtn__1yQpI",loginTitle:"MainNav_loginTitle__1_E8u",NavBar:"MainNav_NavBar__3xbwJ",navLi:"MainNav_navLi__1XlFF",NavLinkActive:"MainNav_NavLinkActive__1Rcoh",NavLink:"MainNav_NavLink__3edkl",MainBar:"MainNav_MainBar__Cck9W"}},30:function(e,t,a){e.exports={formLabel:"ContactForm_formLabel__IFDx6",contactInput:"ContactForm_contactInput__3p629",contactAddBtn:"ContactForm_contactAddBtn__3RkSO",contactFormTitle:"ContactForm_contactFormTitle__5JvJl",contactBtn:"ContactForm_contactBtn__2ZI4R"}},41:function(e,t,a){e.exports={label:"Filter_label__6pZgT",filterInput:"Filter_filterInput__ljOXD"}},42:function(e,t,a){e.exports={PhoneWrapper:"Phone_PhoneWrapper__36EK3",PhoneTitle:"Phone_PhoneTitle__2uuHf"}},67:function(e,t,a){e.exports={container:"Section_container__35b-j"}},68:function(e,t,a){e.exports={mainWrapper:"App_mainWrapper__3VCZH"}}},[[114,1,2]]]);
//# sourceMappingURL=main.efc15cfc.chunk.js.map