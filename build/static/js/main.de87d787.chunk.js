(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(e,t,n){e.exports={loginNav:"Navbar_loginNav__2DEYW",loginAvatar:"Navbar_loginAvatar__15yIi",logoutBtn:"Navbar_logoutBtn__1rbvm",loginTitle:"Navbar_loginTitle__2MBL8",NavBar:"Navbar_NavBar__8FveY",navLi:"Navbar_navLi__2EFUl",NavLinkActive:"Navbar_NavLinkActive__2HeSa",NavLink:"Navbar_NavLink__1t7It"}},112:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(28),s=n.n(r),o=n(18),i=n(5),u=n(57),l=n(33),b=n(34),j=n(38),d=n(37),p=(n(82),n(3)),m=Object(p.b)("contact/addRequest"),g=Object(p.b)("contact/addSuccess"),O=Object(p.b)("contact/addError"),h=Object(p.b)("contact/getRequest"),v=Object(p.b)("contact/getSuccess"),_=Object(p.b)("contact/getError"),f=Object(p.b)("contact/deleteRequest"),x=Object(p.b)("contact/deleteSuccess"),N=Object(p.b)("contact/deleteError"),L=Object(p.b)("phone/filter"),k={addRequest:m,addSuccess:g,addError:O,getRequest:h,getSuccess:v,getError:_,deleteRequest:f,deleteSuccess:x,deleteError:N,onFilter:L},C=n(13),S=n.n(C);S.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var y=n(22),E=n.n(y),R=function(e){return e.contacts.items},I=function(e){return e.contacts.items.name},F=function(e){return e.contacts.items.number},A=function(e){return e.contacts.filter},B=n.p+"static/media/deleteIcon.3ef1c6cb.svg",T=n.p+"static/media/bookHead.490e6ad2.png",q=n(1);var w=Object(i.b)((function(e){return{contacts:R(e),filter:A(e)}}),{deleteContact:function(e){return function(t){t(k.deleteRequest()),S.a.delete("/contacts/".concat(e)).then((function(){return t(k.deleteSuccess(e))})).catch((function(e){return t(k.deleteError(e))}))}}})((function(e){var t=e.contacts,n=e.filter,a=e.deleteContact,c=function(e){console.log("\u0410\u0439\u0434\u0438\u0448\u043d\u0438\u043a",e.target.id),a(e.target.id)};return Object(q.jsx)("div",{className:E.a.allcontactsWrapper,children:Object(q.jsxs)(q.Fragment,{children:[t.length>0&&Object(q.jsx)("img",{src:T,alt:"",className:E.a.bookHead}),Object(q.jsx)("ul",{className:E.a.contactList,children:t.map((function(e){return!!e.name.toLowerCase().includes(n.toLowerCase())&&Object(q.jsxs)("li",{className:E.a.contactElem,children:[Object(q.jsxs)("span",{className:E.a.contactItemName,children:[e.name,":"," "]}),Object(q.jsx)("a",{href:"tel: ".concat(e.number),className:E.a.contactItemNumber,children:e.number}),Object(q.jsx)("button",{className:E.a.deleteBtn,onClick:c,children:Object(q.jsx)("img",{src:B,alt:"",className:E.a.deleteImg,id:e.id})})]},e.id)}))})]})})})),M=n(41),W=n.n(M);var U=Object(i.b)((function(e){return{filter:A(e)}}),{onFilter:L})((function(e){var t=e.onFilter;return Object(q.jsxs)("label",{className:W.a.label,children:["Find Contacts by name",Object(q.jsx)("input",{type:"text",placeholder:"\u043d\u0430\u0439\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442",onChange:function(e){t(e.target.value)},className:W.a.filterInput})]})})),P=n(19),H=n(30),D=n.n(H),J=Object(i.b)((function(e){return{name:I(e),number:F(e),contacts:R(e)}}),{addContact:function(e){return function(t){t(k.addRequest()),S.a.post("/contacts",e).then((function(e){var n=e.data;return t(k.addSuccess(n))})).catch((function(e){return t(k.addError(e.message))}))}}})((function(e){var t=e.contacts,n=e.addContact,c=(e.getContact,Object(a.useState)("")),r=Object(P.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(""),u=Object(P.a)(i,2),l=u[0],b=u[1];return Object(q.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.some((function(e){return e.name===s}))?alert("".concat(s," \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435")):n({name:s,number:l})},children:[Object(q.jsxs)("label",{className:D.a.contactFormTitle,children:["Name",Object(q.jsx)("input",{name:"name",type:"text",placeholder:"Ilon Mask",value:s,onChange:function(e){o(e.target.value)},className:D.a.contactInput,required:!0})]}),Object(q.jsxs)("label",{className:D.a.contactFormTitle,children:["Phone Number",Object(q.jsx)("input",{name:"number",type:"tel",placeholder:"777-888-99-00",value:l,onChange:function(e){b(e.target.value)},className:D.a.contactInput})]}),Object(q.jsx)("button",{type:"submit",className:D.a.contactBtn,children:"add contact"})]})})),G=n(42),z=n.n(G),Y=Object(i.b)((function(e){return{name:I(e),number:F(e),contacts:R(e)}}),{getContact:function(){return function(e){e(k.getRequest()),S.a.get("/contacts").then((function(t){var n=t.data;return e(k.getSuccess(n))})).catch((function(t){return e(k.getError(t))}))}}})((function(e,t){var n=e.getContact;return Object(a.useEffect)((function(){n()}),[t,n]),Object(q.jsxs)("div",{className:z.a.PhoneWrapper,children:[Object(q.jsx)("h1",{className:z.a.PhoneTitle,children:"Phone Book"}),Object(q.jsx)(J,{}),Object(q.jsx)("h2",{children:"Contacts"}),Object(q.jsx)(U,{}),Object(q.jsx)(w,{})]})})),Z=n(4),X=n(23),Q=n.n(X),V=n(32),K={registerRequest:Object(p.b)("auth/registerRequest"),registerSuccess:Object(p.b)("auth/registerSuccess"),registerError:Object(p.b)("auth/registerError"),LoginRequest:Object(p.b)("auth/LoginRequest"),LoginSuccess:Object(p.b)("auth/LoginSuccess"),LoginError:Object(p.b)("auth/LoginError"),LogoutRequest:Object(p.b)("auth/LogoutRequest"),LogoutSuccess:Object(p.b)("auth/LogoutSuccess"),LogoutError:Object(p.b)("auth/LogoutError"),getCurrentUserRequest:Object(p.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(p.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(p.b)("auth/getCurrentUserError")};S.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var $,ee,te,ne,ae=function(e){S.a.defaults.headers.common.Authorization="Bearer ".concat(e)},ce=function(){S.a.defaults.headers.common.Authorization=""},re=n(24),se=n.n(re),oe=n.p+"static/media/animation.46a38fcd.gif",ie={onLogin:function(e){return function(){var t=Object(V.a)(Q.a.mark((function t(n){var a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(K.LoginRequest()),t.prev=1,t.next=4,S.a.post("/users/login",e);case 4:a=t.sent,ae(a.data.token),n(K.LoginSuccess(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(K.LoginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},ue=Object(i.b)(null,ie)((function(e){var t=e.onLogin,n=Object(a.useState)(""),c=Object(P.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),i=Object(P.a)(o,2),u=i[0],l=i[1];return Object(q.jsxs)("div",{className:se.a.loginWrapper,children:[Object(q.jsx)("div",{children:Object(q.jsx)("img",{src:oe,alt:"",className:se.a.mainAnimation})}),Object(q.jsx)("div",{className:se.a.registerWrapper,children:Object(q.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:r,password:u})},children:[Object(q.jsxs)("label",{children:[Object(q.jsx)("span",{className:se.a.registerFormTitle,children:"Email"}),Object(q.jsx)("input",{name:"email",type:"email",placeholder:"",onChange:function(e){s(e.target.value)},className:se.a.regInput,required:!0})]}),Object(q.jsxs)("label",{children:[Object(q.jsx)("span",{className:se.a.registerFormTitle,children:"Password"}),Object(q.jsx)("input",{name:"password",type:"text",placeholder:"",onChange:function(e){l(e.target.value)},className:se.a.regInput,required:!0})]}),Object(q.jsx)("button",{type:"submit",className:se.a.regBtn,children:"Log In"})]})})]})})),le=n(20),be=n.n(le),je={onRegister:function(e){return function(){var t=Object(V.a)(Q.a.mark((function t(n){var a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(K.registerRequest()),t.prev=1,t.next=4,S.a.post("/users/signup",e);case 4:a=t.sent,ae(a.data.token),n(K.registerSuccess(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(K.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},de=Object(i.b)(null,je)((function(e){var t=e.onRegister,n=Object(a.useState)(""),c=Object(P.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),i=Object(P.a)(o,2),u=i[0],l=i[1],b=Object(a.useState)(""),j=Object(P.a)(b,2),d=j[0],p=j[1];return Object(q.jsxs)("div",{className:be.a.registerWrapper,children:[Object(q.jsx)("h2",{className:be.a.regMainTitle,children:"Sign Up"}),Object(q.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:r,email:u,password:d})},children:[Object(q.jsx)("label",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{className:be.a.registerFormTitle,children:"Username"}),Object(q.jsx)("input",{name:"name",type:"text",placeholder:"Jesus",value:r,onChange:function(e){s(e.target.value)},className:be.a.regInput,required:!0})]})}),Object(q.jsx)("label",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{className:be.a.registerFormTitle,children:"Email "}),Object(q.jsx)("input",{name:"email",type:"text",placeholder:"IlonMask@mail.ru",value:u,onChange:function(e){l(e.target.value)},className:be.a.regInput,required:!0})]})}),Object(q.jsx)("label",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{className:be.a.registerFormTitle,children:"Password"}),Object(q.jsx)("input",{name:"password",type:"text",placeholder:"123",value:d,onChange:function(e){p(e.target.value)},className:be.a.regInput})]})}),Object(q.jsx)("button",{type:"submit",className:be.a.regBtn,children:"Create an account"})]})]})})),pe=function(e){return!!e.authReducer.token},me=n.p+"static/media/ava-octocat.3ad91461.png",ge=n(10),Oe=n.n(ge),he=n(59),ve=n.n(he),_e={onLogout:function(){return function(){var e=Object(V.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K.LogoutRequest()),e.prev=1,e.next=4,S.a.post("/users/logout");case 4:ce(),t(K.LogoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(K.LogoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}},fe=Object(i.b)((function(e){return{isAuthenticated:pe(e),name:e.authReducer.user.name,avatar:me}}),_e)((function(e){var t=e.isAuthenticated,n=e.name,a=e.avatar,c=e.onLogout;return Object(q.jsx)("div",{className:Oe.a.navWrapper,children:t?Object(q.jsxs)("ul",{className:Oe.a.loginNav,children:[Object(q.jsx)("li",{children:Object(q.jsx)("span",{className:Oe.a.loginTitle,children:"Hello, ".concat(n)})}),Object(q.jsx)("li",{children:Object(q.jsx)("img",{src:a,alt:"",className:Oe.a.loginAvatar})}),Object(q.jsx)("button",{type:"button",className:Oe.a.logoutBtn,onClick:c,children:Object(q.jsx)(ve.a,{color:"primary",className:Oe.a.logoutBtn})})]}):Object(q.jsxs)("ul",{className:Oe.a.NavBar,children:[Object(q.jsx)("li",{className:Oe.a.navLi,children:Object(q.jsx)(o.b,{exact:!0,to:"/register",className:Oe.a.NavLink,activeClassName:Oe.a.NavLinkActive,children:"Register"})}),Object(q.jsx)("li",{className:Oe.a.navLink,children:Object(q.jsx)(o.b,{exact:!0,to:"/login",className:Oe.a.NavLink,activeClassName:Oe.a.NavLinkActive,children:"Login"})})]})})})),xe=n(14),Ne=n(70),Le=Object(i.b)((function(e){return{isAuthenticated:pe(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=e.redirectTo,c=Object(Ne.a)(e,["component","isAuthenticated","redirectTo"]);return Object(q.jsx)(Z.b,Object(xe.a)(Object(xe.a)({},c),{},{render:function(e){return n?Object(q.jsx)(t,Object(xe.a)({},e)):Object(q.jsx)(Z.a,{to:a})}}))})),ke=n(67),Ce=n.n(ke),Se=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(q.jsx)("div",{className:Ce.a.container,children:Object(q.jsx)(q.Fragment,{children:this.props.children})})}}]),n}(a.Component),ye=n(26),Ee=n.n(ye),Re=function(){return Object(q.jsx)("div",{children:Object(q.jsxs)("ul",{className:Ee.a.MainBar,children:[Object(q.jsx)("li",{className:Ee.a.navLi,children:Object(q.jsx)(o.b,{exact:!0,to:"/",className:Ee.a.NavLink,activeClassName:Ee.a.NavLinkActive,children:"Main"})}),Object(q.jsx)("li",{className:Ee.a.navLink,children:Object(q.jsx)(o.b,{exact:!0,to:"/contacts",className:Ee.a.NavLink,activeClassName:Ee.a.NavLinkActive,children:"Contacts"})})]})})},Ie=n(68),Fe=n.n(Ie),Ae=n.p+"static/media/phoneBookTitleImg.70dbc878.jpg",Be=function(){return Object(q.jsx)("div",{children:Object(q.jsx)("img",{src:Ae,alt:""})})},Te=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(q.jsxs)(Se,{children:[Object(q.jsx)(Z.b,{path:"/",component:fe}),Object(q.jsxs)("div",{className:Fe.a.mainWrapper,children:[Object(q.jsx)(Z.b,{path:"/",component:Re}),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(Z.d,{children:[Object(q.jsx)(Z.b,{path:"/",exact:!0,component:Be}),!this.props.isAuthenticated&&Object(q.jsx)(Z.b,{path:"/login",exact:!0,component:ue}),!this.props.isAuthenticated&&Object(q.jsx)(Z.b,{path:"/register",exact:!0,component:de}),Object(q.jsx)(Le,{path:"/contacts",component:Y,redirectTo:"/login"})]})})]})]})}}]),n}(a.Component),qe={onGetCurrentUser:function(){return function(){var e=Object(V.a)(Q.a.mark((function e(t,n){var a,c,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),c=a.authReducer.token){e.next=3;break}return e.abrupt("return");case 3:return ae(c),t(K.getCurrentUserRequest()),e.prev=5,e.next=8,S.a.get("/users/current");case 8:r=e.sent,t(K.getCurrentUserSuccess(r.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(K.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},we=Object(i.b)((function(e){return{isAuthenticated:pe(e)}}),qe)(Te),Me=n(29),We=n(6),Ue=Object(p.c)({items:[],filter:""},($={},Object(We.a)($,k.getSuccess,(function(e,t){var n=t.payload;return Object(xe.a)(Object(xe.a)({},e),{},{items:Object(Me.a)(n)})})),Object(We.a)($,k.addSuccess,(function(e,t){var n=t.payload;return Object(xe.a)(Object(xe.a)({},e),{},{items:[].concat(Object(Me.a)(e.items),[{name:n.name,number:n.number,id:n.id}])})})),Object(We.a)($,k.deleteSuccess,(function(e,t){var n=t.payload;return Object(xe.a)(Object(xe.a)({},e),{},{items:Object(Me.a)(e.items.filter((function(e){return e.id!==n})))})})),Object(We.a)($,k.onFilter,(function(e,t){var n=t.payload;return Object(xe.a)(Object(xe.a)({},e),{},{filter:n})})),$)),Pe=n(7),He={name:null,email:null},De=Object(p.c)(He,(ee={},Object(We.a)(ee,K.registerSuccess,(function(e,t){return t.payload.user})),Object(We.a)(ee,K.LoginSuccess,(function(e,t){return t.payload.user})),Object(We.a)(ee,K.LogoutSuccess,(function(){return He})),Object(We.a)(ee,K.getCurrentUserSuccess,(function(e,t){return t.payload})),ee)),Je=Object(p.c)(null,(te={},Object(We.a)(te,K.registerSuccess,(function(e,t){return t.payload.token})),Object(We.a)(te,K.LoginSuccess,(function(e,t){return t.payload.token})),Object(We.a)(te,K.LogoutSuccess,(function(){return null})),te)),Ge=Object(p.c)(null,(ne={},Object(We.a)(ne,K.registerError,(function(e,t){return t.payload})),Object(We.a)(ne,K.LoginError,(function(e,t){return t.payload})),Object(We.a)(ne,K.LogoutError,(function(e,t){return t.payload})),Object(We.a)(ne,K.getCurrentUserError,(function(e,t){return t.payload})),ne)),ze=Object(Pe.c)({user:De,token:Je,error:Ge}),Ye=n(25),Ze=n(69),Xe=n.n(Ze),Qe=[].concat(Object(Me.a)(Object(p.d)({serializableCheck:{ignoredActions:[Ye.a,Ye.f,Ye.b,Ye.c,Ye.d,Ye.e]}})),[function(e){return function(e){return function(t){return console.group(t.type),console.info("dispatching",t),console.groupEnd(t.type),e(t)}}}]),Ve={key:"auth",storage:Xe.a,whitelist:["token"]},Ke=Object(p.a)({reducer:{contacts:Ue,authReducer:Object(Ye.g)(Ve,ze)},middleware:Qe}),$e={store:Ke,persistor:Object(Ye.h)(Ke)};n(112);s.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(i.a,{store:$e.store,children:Object(q.jsx)(u.a,{loading:null,persistor:$e.persistor,children:Object(q.jsx)(o.a,{children:Object(q.jsx)(we,{})})})})}),document.getElementById("root"))},20:function(e,t,n){e.exports={registerWrapper:"Register_registerWrapper__1E35a",registerFormTitle:"Register_registerFormTitle__HL5aa",regBtn:"Register_regBtn__2T53n",regMainTitle:"Register_regMainTitle__7xJE9",regInput:"Register_regInput__DGPPi"}},22:function(e,t,n){e.exports={deleteBtn:"Contacts_deleteBtn__26V_A",contactList:"Contacts_contactList__2Oo8h",contactElem:"Contacts_contactElem__3A_-3",deleteImg:"Contacts_deleteImg__PWLZ0",contactItemName:"Contacts_contactItemName__17NpQ",contactItemNumber:"Contacts_contactItemNumber__F3P6z",bookHead:"Contacts_bookHead__1hc01",allcontactsWrapper:"Contacts_allcontactsWrapper__1_-dp"}},24:function(e,t,n){e.exports={loginWrapper:"Login_loginWrapper__38eiR",registerWrapper:"Login_registerWrapper__3A1HG",registerFormTitle:"Login_registerFormTitle__Xxwvq",regBtn:"Login_regBtn__3oL3f",regMainTitle:"Login_regMainTitle__3SGTb",regInput:"Login_regInput__2HuYY",mainAnimation:"Login_mainAnimation__1_iPo"}},26:function(e,t,n){e.exports={loginNav:"MainNav_loginNav__JaimC",loginAvatar:"MainNav_loginAvatar__1lg-F",logoutBtn:"MainNav_logoutBtn__1yQpI",loginTitle:"MainNav_loginTitle__1_E8u",NavBar:"MainNav_NavBar__3xbwJ",navLi:"MainNav_navLi__1XlFF",NavLinkActive:"MainNav_NavLinkActive__1Rcoh",NavLink:"MainNav_NavLink__3edkl",MainBar:"MainNav_MainBar__Cck9W"}},30:function(e,t,n){e.exports={formLabel:"ContactForm_formLabel__IFDx6",contactInput:"ContactForm_contactInput__3p629",contactAddBtn:"ContactForm_contactAddBtn__3RkSO",contactFormTitle:"ContactForm_contactFormTitle__5JvJl",contactBtn:"ContactForm_contactBtn__2ZI4R"}},41:function(e,t,n){e.exports={label:"Filter_label__6pZgT",filterInput:"Filter_filterInput__ljOXD"}},42:function(e,t,n){e.exports={PhoneWrapper:"Phone_PhoneWrapper__36EK3",PhoneTitle:"Phone_PhoneTitle__2uuHf"}},67:function(e,t,n){e.exports={container:"Section_container__35b-j"}},68:function(e,t,n){e.exports={mainWrapper:"App_mainWrapper__3VCZH"}}},[[114,1,2]]]);
//# sourceMappingURL=main.de87d787.chunk.js.map